<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Davi Sales Barreira - Personal Website</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom CSS -->
    <!--<link href="css/heroic-features.css" rel="stylesheet">-->

    <link href='https://fonts.googleapis.com/css?family=Inconsolata:400,700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Cutive+Mono&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link href="css/style.css" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>


  <div class="container">

    <div class='row'>
      <div class="col-md-2 sidebar">
        <a href="index.html"><h1 class='davi-sidebar'>Davi.SB</h1></a>
        <ul class='nav navbar-stacked'>
          <li class='davi'><a href="aboutme.html">Quem sou</a></li>
          <li class='davi'><a href="#">Trabalhos</a></li>
          <li class='davi'><a href="#">Curr√≠culo</a></li>
          <!--<li class='davi'>About Me</li>-->
          <!--<li class='davi'>About Me</li>-->
        </ul>
      </div>

      <div class="col-md-8">
        <!--<img src="images/img-cylinder.png">-->
          <!--<canvas id="daviCanvas" resize="false"></canvas> -->
          <canvas id="daviCanvas" resize></canvas> 

        
      </div>
    </div>
  <!--Webdesign based on paper.js-->
  </div>

  <!-- jQuery -->
  <script src="js/jquery.js"></script>

  <!-- Bootstrap Core JavaScript -->
  <script src="js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/paper-full.js"></script>
  <script type="text/paperscript" canvas="daviCanvas">
    var point1 = new Point(50, 50);
    var point2 = new Point(100, 50);
    var point3 = point2 - new Point (10,10);
    var point4 = point2 - new Point (10,-10);
    var zero   = point2 - point2;
    var vector = point2 - point1;
    
    var arrow  = new Symbol(path);
    var children = project.activeLayer.children;
    var path = []


    numberArrows = 10;
    for (var i = 0; i < numberArrows; i++ ){
        path[i] = new Path(point1,point2,point3,point2,point4);
        path[i].strokeColor = 'black';
        path[i].scale(0.50);
        path[i].position = Point.random()*view.size;
        path[i].angle    = 0; // Add angle property
    }
    
    var vector = new Point({
        angle: 45,
        length: 10
    });
    //console.log(children[10].angle);
    var mouseVector = vector.clone();

    var myCircle = new Path.Circle(view.center, 50);
    myCircle.strokeColor = 'black';
    myCircle.fillColor   = 'white';
    
    var path1 = children[0];

    console.log(path1.position);
    
    function showIntersections(path1, path2) {
    var intersections = path1.getIntersections(path2);
    for (var i = 0; i < intersections.length; i++) {
        new Path.Circle({
            center: intersections[i].point,
            radius: 5,
            fillColor: '#009dec'
        });
    }
}
    
    function onMouseMove(event) {
        mouseVector = -view.center + event.point;
        vector = mouseVector/30;
    }
    var rotationRate;

    function onFrame(event){
        for (var i =-0;i<numberArrows;i++){
            children[i].position.x += vector.x;
            children[i].position.y += vector.y;
            keepInView(children[i]);
            //showIntersections(children[0], )
            rotationRate = (vector.angle - children[i].angle)/3;
            //console.log(rotationRate);
            if (vector.angle > 90 && children[i].angle <-90){
                rotationRate = -(360 - vector.angle + children[i].angle)/10;
                children[i].angle+=360 + rotationRate;
            }
            if (vector.angle < -90 && children[i].angle >90){
                rotationRate = (360 + vector.angle - children[i].angle)/10;
                children[i].angle+=-360 + rotationRate;
            }
            if (vector.angle !== children[i].angle){
                children[i].rotate(rotationRate);
                children[i].angle+=rotationRate;
            }
            var dist = children[i].position-view.center;
            if (dist.length<50){
                children[i].position.x += -vector.x;
                children[i].position.y += -vector.y;
                
            }

            
        }
    }
    function keepInView(item) {
        var position = item.position;
        var itemBounds = item.bounds;
        var bounds = view.bounds;
 
        //showIntersections(path2,path3);
        if (itemBounds.left > bounds.width) {
            position.x = -item.bounds.width;
        }

        if (position.x < -itemBounds.width) {
            position.x = bounds.width;
        }

        if (itemBounds.top > view.size.height) {
            position.y = -itemBounds.height;
        }

        if (position.y < -itemBounds.height) {
            position.y = bounds.height  + itemBounds.height / 2;
        }
    }
  </script>
</body>


</html>
